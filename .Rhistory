mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(desc(COUNTRY_NAME))
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="blue"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
mapping=aes(x=as.character(age_group), y=sex, fill=KPI),
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="blue"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="green"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="sky blue"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="yellow"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="black", fill="sky blue"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
#Graph 3: Fare vs Survived w/ As Character
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
#facet_wrap(~SURVIVED) +
#facet_grid(.~SURVIVED, labeller=label_both) + # Same as facet_wrap but with a label.
#facet_grid(PCLASS~SURVIVED, labeller=label_both) +
labs(title='Titanic') +
labs(x="SURVIVED", y=paste("Fare")) +
layer(data=df2,
mapping=aes(x=SEX, y=as.numeric(as.character(FARE)), color=as.character(SURVIVED)),
stat="identity",
stat_params=list(),
geom="point",
geom_params=list(),
#position=position_identity()
position=position_jitter(width=0.3, height=0)
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="sky blue", fill="blue"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="sky blue", fill="green"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="sky blue", fill="dark green"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
df <- death_df %>% group_by(COUNTRY_NAME, SEX) %>% filter(COUNTRY_NAME %in% c("Afghanistan", "China", "Colombia", "Japan", "Korea, Republic of", "Pakistan", "Philippines", "Spain", "United Kingdom", "United States")) %>% filter(SEX %in% c("Female", "Male")) %>% summarize(AVG_DR = mean(DEATH_RATE_PER_100_000))
df1 <- df %>% ungroup %>% group_by(SEX) %>% summarize(WINDOW_AVG_DR=mean(AVG_DR))
df <- inner_join(df, df1, by="SEX") %>% arrange(COUNTRY_NAME)
spread(df, COUNTRY_NAME, AVG_DR) %>% View
ggplot() +
coord_cartesian() +
scale_x_discrete() +
scale_y_continuous() +
facet_wrap(~SEX, ncol=1) +
labs(title='Country vs Death Rate per 100000 ') +
labs(x=paste(""), y=paste("Avg. Death Rate per 100000")) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR),
stat="identity",
stat_params=list(),
geom="bar",
geom_params=list(colour="sky blue", fill="dark green"),
position=position_identity()
) + coord_flip() +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=AVG_DR, label=round(AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-0.5),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=WINDOW_AVG_DR, label=round(WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-2),
position=position_identity()
) +
layer(data=df,
mapping=aes(x=COUNTRY_NAME, y=WINDOW_AVG_DR, label=round(AVG_DR - WINDOW_AVG_DR)),
stat="identity",
stat_params=list(),
geom="text",
geom_params=list(colour="black", hjust=-5),
position=position_identity()
) +
layer(data=df,
mapping=aes(yintercept = WINDOW_AVG_DR),
geom="hline",
geom_params=list(colour="red")
)
